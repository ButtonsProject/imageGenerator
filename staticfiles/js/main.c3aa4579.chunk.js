(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{169:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(19),o=n.n(r),i=n(70),s=n(24),l=n(232),j=n(86),u=n(1),b=Object(l.a)((function(e){return{root:{margin:e.spacing(5,0,2),textAlign:"center",fontSize:"72",color:"#00AA13"}}})),d=function(){var e=b();return Object(u.jsx)(j.a,{className:e.root,component:"h1",variant:"h3",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a"})},p=n(21),O=n(7),x=["children"],h=Object(l.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)}}})),m=function(e){var t=e.children,n=Object(O.a)(e,x),c=h();return Object(u.jsx)("form",Object(p.a)(Object(p.a)({className:c.root,noValidate:!0},n),{},{children:t}))},f=n(251),g=Object(c.forwardRef)((function(e,t){return Object(u.jsx)(f.a,Object(p.a)(Object(p.a)({variant:"outlined",margin:"normal",inputRef:t},e),{},{fullWidth:!0}))})),v=n(58),y=n(237),T=["children"],S=Object(l.a)((function(e){return{root:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"}}})),k=function(e){var t=e.children,n=Object(O.a)(e,T),c=S();return Object(u.jsx)(y.a,Object(p.a)(Object(p.a)({className:c.root,container:"main",maxWidth:"sm"},n),{},{children:t}))},w=n(238),F=Object(l.a)((function(e){return{root:{margin:e.spacing(3,0,2)}}})),_=function(e){var t=e.children,n=(e.props,F());return Object(u.jsx)(w.a,{className:n.root,type:"submit",fullWidth:!0,variant:"outlined",children:t})},C=n(115),I=n(171),N=n(236),V=n(239),R=n(240),z=n(241),B=n(112),D=n.n(B),W=Object(l.a)((function(e){return{root:{fontFamily:"Roboto",padding:"10px",marginTop:"10px",color:"#666666"},icon:{marginTop:"10px",fontSize:"36px"}}})),A=function(e){var t=e.control,n=e.name,c=W();return Object(u.jsx)(v.a,{control:t,name:n,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,r=t.onBlur,o=t.value;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a,{onDrop:a,accept:"image/jpeg, image/png",maxFiles:1,children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(u.jsxs)(I.a,Object(p.a)(Object(p.a)({variant:"outlined",className:c.root},t()),{},{children:[Object(u.jsx)("input",Object(p.a)(Object(p.a)({},a()),{},{name:n,onBlur:r,type:"file"})),Object(u.jsx)("p",{children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})]}))}}),Object(u.jsx)(N.a,{children:o.map((function(e,t){return Object(u.jsxs)(V.a,{children:[Object(u.jsx)(R.a,{children:Object(u.jsx)(D.a,{})}),Object(u.jsx)(z.a,{primary:e.name,secondary:e.size})]},t)}))})]})}})},P=n(12),E=Object(c.createContext)({}),J=function(e){var t=e.children,n=Object(c.useState)({}),a=Object(P.a)(n,2),r=a[0],o=a[1];return Object(u.jsx)(E.Provider,{value:{data:r,setValues:function(e){o((function(t){return Object(p.a)(Object(p.a)({},t),e)}))}},children:t})},M=function(){return Object(c.useContext)(E)},q=n(250),G=n(254),H=n(252),K=n(253),L=(Object(l.a)((function(){return{root:{fontFamily:"Roboto",marginTop:"10px"}}})),function(e){var t=e.control;return Object(u.jsxs)(K.a,{fullWidth:!0,children:[Object(u.jsx)(G.a,{id:"category-selector",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u043f\u043e\u0441\u0442\u0430"}),Object(u.jsx)(v.a,{control:t,name:"categorySelector",defaultValue:[],render:function(e){var n=e.field,c=n.name,a=n.onChange,r=n.value;return Object(u.jsxs)(q.a,{name:c,id:"categorySelector",control:t,labelId:"category-selector",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u043f\u043e\u0441\u0442\u0430",value:r,onChange:a,children:[Object(u.jsx)(H.a,{value:"checks",children:"\u0413\u0430\u043b\u043e\u0447\u043a\u0438"}),Object(u.jsx)(H.a,{value:"high_article",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0432\u0435\u0440\u0445\u0443 \u0431\u0435\u0437 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"}),Object(u.jsx)(H.a,{value:"triangle_mask",children:"\u0422\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0430\u044f \u043c\u0430\u0441\u043a\u0430"})]})}})]})}),Q=function(){var e=Object(s.f)(),t=M(),n=t.data,c=t.setValues,a=Object(v.b)({defaultValues:{postTitle:n.postTitle,postText:n.postText,categorySelector:n.categorySelector,files:n.files},mode:"onBlur"}),r=a.register,o=a.control,i=a.handleSubmit,l=(0,a.watch)("categorySelector");return Object(u.jsx)(k,{children:Object(u.jsxs)(m,{onSubmit:i((function(t){console.log(l),console.log(t),c(t),e.push("/result")})),children:[Object(u.jsx)(L,{name:"categorySelector",control:o}),("checks"===l||"triangle_mask"===l)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,Object(p.a)(Object(p.a)({},r("postTitle")),{},{id:"postTitle",type:"text",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430",name:"postTitle"})),Object(u.jsx)(A,{name:"files",control:o})]}),"high_article"===l&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,Object(p.a)(Object(p.a)({},r("postTitle")),{},{id:"postTitle",type:"text",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430",name:"postTitle"})),Object(u.jsx)(g,Object(p.a)(Object(p.a)({},r("postText")),{},{id:"postText",type:"text",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430",name:"postText"}))]}),Object(u.jsx)(_,{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})},U=n(22),X=n.n(U),Y=n(34),Z=n(247),$=n(248),ee=n(249),te=n(114),ne=n.n(te),ce=Object(l.a)((function(){return{container:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"baseline",marginTop:20,padding:30}}})),ae=function(e){var t=e.data,n="https://skbgen.herokuapp.com/",a=ce(),r=Object(c.useState)([]),o=Object(P.a)(r,2),i=o[0],s=o[1];Object(c.useEffect)((function(){var e=t.categorySelector,c=[t.postTitle,t.postText],a=new FormData;a.append("image","checks"===e||"triangle_mask"===e?t.files[0]:""),a.append("gen_type",e),a.append("params","color=green"),a.append("text_fields","checks"===e||"triangle_mask"===e?c[0]:c.join(";"));var r={headers:{"content-type":"multipart / form-data"}},o=function(){var e=Object(Y.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,ne.a.post("".concat(n,"/api/v1/generator/new/"),a,r);case 3:t=e.sent,s(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o()}),[]);var l="".concat(n,"/api/v1/generator/get/?id=").concat(i.id);return console.log(i),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Z.a,{container:!0,className:a.container,children:Object(u.jsx)(Z.a,{item:!0,children:Object(u.jsx)($.a,{children:Object(u.jsx)(ee.a,{component:"img",alt:"resultId",height:"400",width:"400",image:l})})})})})},re=function(){var e=M().data;return Object(u.jsxs)(k,{children:[Object(u.jsx)(ae,{data:e}),Object(u.jsx)(i.b,{to:"/",variant:"outlined",color:"secondary",id:"output-button",size:"small",children:"\u041d\u0430\u0437\u0430\u0434"})]})},oe=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{}),Object(u.jsx)(i.a,{children:Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{exact:!0,path:"/",component:Q}),Object(u.jsx)(s.a,{path:"/result",component:re})]})})]})};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(J,{children:Object(u.jsx)(oe,{})})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.c3aa4579.chunk.js.map